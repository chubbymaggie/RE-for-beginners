\section{\Conclusion{}}

\RU{Примерный скелет цикла от 2 до 9 включительно}\EN{Rough skeleton of loop from 2 to 9 inclusive}:

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_2_9_optimized.lst.\LANG}

\RU{Операция инкремента может быть представлена как 3 инструкции в неоптимизированном коде:}
\EN{The increment operation may be represented as 3 instructions in non-optimized code:}

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_2_9.lst.\LANG}

\RU{Если тело цикла короткое, под переменную счетчика можно выделить целый регистр:}
\EN{If the body of the loop is short, a whole register can be dedicated to the counter variable:}

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_2_9_reg.lst.\LANG}

\RU{Некоторые части цикла могут быть сгенерированы компилятором в другом порядке:}
\EN{Some parts of the loop may be generated by compiler in different order:}

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_2_9_order.lst.\LANG}

\RU{Обычно условие проверяется \IT{перед} телом цикла, но компилятор может перестроить цикл так, 
что условие проверяется \IT{после} тела цикла.}
\EN{Usually the condition is checked \IT{before} loop body, but the compiler may rearrange it in a way that
the condition is checked \IT{after} loop body.}
\RU{Это происходит тогда, когда компилятор уверен, что условие всегда будет \IT{истинно} на первой итерации,
так что тело цикла исполнится как минимум один раз:}
\EN{This is done when the compiler is sure that the condition is always \IT{true} on the first iteration, 
so the body of the loop is to be executed at least once:}

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_2_9_reorder.lst.\LANG}

\index{x86!\Instructions!LOOP}
\RU{Используя инструкцию \TT{LOOP}. Это редкость, компиляторы не используют её.
Так что если вы её видите, это верный знак, что этот фрагмент кода написан вручную:}
\EN{Using the \TT{LOOP} instruction. This is rare, compilers are not using it.
When you see it, it's a sign that this piece of code is hand-written:}

\lstinputlisting[caption=x86]{patterns/09_loops/skeleton_x86_loop.lst.\LANG}

\ifdefined\IncludeARM
ARM. 
\RU{В этом примере регистр \Reg{4} выделен для переменной счетчика:}
\EN{The \Reg{4} register is dedicated to counter variable in this example:}

\lstinputlisting[caption=ARM]{patterns/09_loops/skeleton_ARM.lst.\LANG}
\fi

% TODO MIPS
